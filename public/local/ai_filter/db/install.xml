<?xml version="1.0" encoding="UTF-8"?>
<XMLDB PATH="local/ai_filter/db" VERSION="20251211" COMMENT="AI Prompt Filter">
  <TABLES>

    <!-- Table storing your 1500 adversarial prompts -->
    <TABLE NAME="local_ai_prompts">
      <FIELDS>
        <FIELD NAME="id" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="true"/>
        <FIELD NAME="prompt" TYPE="text" NOTNULL="true"/>
        <FIELD NAME="prompthash" TYPE="char" LENGTH="64" NOTNULL="true"/>
        <FIELD NAME="normalized" TYPE="text" NOTNULL="true"/>
        <FIELD NAME="timecreated" TYPE="int" LENGTH="10" NOTNULL="true"/>
      </FIELDS>
      <KEYS>
        <KEY NAME="primary" TYPE="primary" FIELDS="id"/>
        <KEY NAME="prompthash" TYPE="unique" FIELDS="prompthash"/>
      </KEYS>
    </TABLE>

    <!-- Table storing logged blocked attempts -->
    <TABLE NAME="local_ai_blocks">
      <FIELDS>
        <FIELD NAME="id" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="true"/>
        <FIELD NAME="userid" TYPE="int" LENGTH="10" NOTNULL="true"/>
        <FIELD NAME="prompttext" TYPE="text" NOTNULL="true"/>
        <FIELD NAME="reason" TYPE="char" LENGTH="255" NOTNULL="true"/>
        <FIELD NAME="timecreated" TYPE="int" LENGTH="10" NOTNULL="true"/>
      </FIELDS>
      <KEYS>
        <KEY NAME="primary" TYPE="primary" FIELDS="id"/>
      </KEYS>
    </TABLE>

  </TABLES>
</XMLDB>
